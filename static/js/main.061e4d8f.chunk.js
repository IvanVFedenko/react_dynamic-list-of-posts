(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(24)},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(10),c=a.n(r),o=a(1),i=a.n(o),l=a(8),m=a(2),u=a(3),d=a(4),p=a(6),f=a(5),h=a(7),b=(a(19),a(11)),v=" https://jsonplaceholder.typicode.com",E=function(){var e=Object(m.a)(i.a.mark(function e(){var t,a,n,s,r,c,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/posts"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.next=8,fetch("".concat(v,"/comments"));case 8:return n=e.sent,e.next=11,n.json();case 11:return s=e.sent,e.next=14,fetch("".concat(v,"/users"));case 14:return r=e.sent,e.next=17,r.json();case 17:return c=e.sent,o=a.map(function(e){return Object(b.a)({},e,{userData:c.find(function(t){return t.id===e.userId}),userComments:s.filter(function(t){return e.id===t.postId})})}),e.abrupt("return",o);case 20:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),y=(a(20),function(e){var t=e.userData;return s.a.createElement("div",{className:"user"},s.a.createElement("span",{className:"user_name"},t.name,", the \xa0"),s.a.createElement("span",{className:"user_nickname"},"(",t.username,")"),s.a.createElement("div",{className:"user_email"},t.email))}),O=(a(21),a(22),function(e){var t=e.commentData;return s.a.createElement("div",null,t.map(function(e){return s.a.createElement("div",{className:"comment",key:e.id},s.a.createElement("p",{className:"comment_name"},e.name),s.a.createElement("p",{className:"comment_body"},e.body),s.a.createElement("p",{className:"comment_email"},e.email))}),";")}),j=(a(23),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(s)))).state={commentListIsOpen:!1},a.handleClick=function(){a.setState(function(e){return{commentListIsOpen:!e.commentListIsOpen}})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.commentData;return s.a.createElement("div",null,s.a.createElement("button",{className:"commentlist_load-buttom",type:"button",onClick:this.handleClick},this.state.commentListIsOpen?"Hide comments":"Show comments"),this.state.commentListIsOpen&&s.a.createElement(O,{commentData:e}))}}]),t}(s.a.Component)),L=function(e){var t=e.loadedPosts;return s.a.createElement("div",null,t.map(function(e){return s.a.createElement("div",{className:"postlist_item",key:e.id},s.a.createElement("div",{className:"postlist_title"},e.title," "),s.a.createElement("div",{className:"postlist_body"},e.body," "),s.a.createElement("div",null,s.a.createElement(y,{userData:e.userData})),s.a.createElement("div",null,s.a.createElement(j,{commentData:e.userComments})))}),";")},w=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(s)))).state={loadedPosts:[],postTemplate:[],isLoaded:!1,isLoading:!1},a.handleLoad=Object(m.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),e.next=3,E();case 3:t=e.sent,setTimeout(function(){a.setState({loadedPosts:Object(l.a)(t),postTemplate:Object(l.a)(t),isLoaded:!0})},1e3);case 5:case"end":return e.stop()}},e)})),a.handleInputSearch=function(e){var t=e.target.value;a.setState(function(e){return{loadedPosts:e.postTemplate.filter(function(e){return(e.title&&e.body).toLowerCase().includes(t.toLowerCase().trim())})}})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.state.isLoaded?s.a.createElement("div",{className:"app"},s.a.createElement("div",null,s.a.createElement("label",null,s.a.createElement("input",{type:"text",placeholder:"Search post by body or title...",onChange:this.handleInputSearch,className:"app_search-input"}))),s.a.createElement(L,{loadedPosts:this.state.loadedPosts})):s.a.createElement("button",{className:"app_load-button",type:"button",onClick:this.handleLoad,hidden:this.state.isLoaded},this.state.isLoading?"Loading...":"Load")}}]),t}(s.a.Component);c.a.render(s.a.createElement(w,null),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.061e4d8f.chunk.js.map